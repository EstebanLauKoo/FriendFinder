<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FriendFinder</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>
<body>
<div class="container">
    <h2>Survey Questions</h2>
    <hr>
        <h3>
            <strong>About  You</strong>
        </h3>
    <h4>Name (Required)</h4>
    <input type="text" name id="name" class="form-control" required>
    <h4>Link to Photo Image (Required)</h4>
    <input type="text" name id="photo" class="form-control" required>
    <hr>
        <h3><strong>Question 1</strong></h3>
    <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
    <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" >
            Select an Option
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
            <li><a data-value="1">1 (Strongly Disagree)</a></li>
            <li><a data-value="2">2</a></li>
            <li><a data-value="3">3</a><li>
            <li><a data-value="4">4</a></li>
            <li><a data-value="5">5 (Strongly Agree)</a></li>
        </ul>
    </div>
    <hr>
    <h3><strong>Question 2</strong></h3>
    <h4>Generally speaking, you rely more on yoru experience than your imagination.</h4>
    <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            Select an Option
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <li><a data-value="1">1 (Strongly Disagree)</a></li>
            <li><a data-value="2">2</a></li>
            <li><a data-value="3">3</a><li>
            <li><a data-value="4">4</a></li>
            <li><a data-value="5">5 (Strongly Agree)</a></li>
        </ul>
    </div>
    <hr>
    <h3><strong>Question 3</strong></h3>
    <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
    <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            Select an Option
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu3">
            <li><a data-value="1">1 (Strongly Disagree)</a></li>
            <li><a data-value="2">2</a></li>
            <li><a data-value="3">3</a><li>
            <li><a data-value="4">4</a></li>
            <li><a data-value="5">5 (Strongly Agree)</a></li>
        </ul>
    </div>
    <hr>
    <h3><strong>Question 4</strong></h3>
    <h4>You rarely do something just out of sheer curiosity.</h4>
    <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            Select an Option
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu4">
            <li><a data-value="1">1 (Strongly Disagree)</a></li>
            <li><a data-value="2">2</a></li>
            <li><a data-value="3">3</a><li>
            <li><a data-value="4">4</a></li>
            <li><a data-value="5">5 (Strongly Agree)</a></li>
        </ul>
    </div>
    <hr>
    <h3><strong>Question 5</strong></h3>
    <h4>People can rarely upset you.</h4>
    <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu5" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            Select an Option
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu5">
            <li><a data-value="1">1 (Strongly Disagree)</a></li>
            <li><a data-value="2">2</a></li>
            <li><a data-value="3">3</a><li>
            <li><a data-value="4">4</a></li>
            <li><a data-value="5">5 (Strongly Agree)</a></li>
        </ul>
    </div>
    <hr>
    <h3><strong>Question 6</strong></h3>
    <h4>It is often difficult for you to relate to other people's feelings.</h4>
    <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu6" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            Select an Option
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu6">
            <li><a data-value="1">1 (Strongly Disagree)</a></li>
            <li><a data-value="2">2</a></li>
            <li><a data-value="3">3</a><li>
            <li><a data-value="4">4</a></li>
            <li><a data-value="5">5 (Strongly Agree)</a></li>
        </ul>
    </div>
    <hr>
    <h3><strong>Question 7</strong></h3>
    <h4>You rarely get carried away by fantasies and ideas.</h4>
    <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu7" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            Select an Option
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu7">
            <li><a data-value="1">1 (Strongly Disagree)</a></li>
            <li><a data-value="2">2</a></li>
            <li><a data-value="3">3</a><li>
            <li><a data-value="4">4</a></li>
            <li><a data-value="5">5 (Strongly Agree)</a></li>
        </ul>
    </div>
    <hr>
    <h3><strong>Question 8</strong></h3>
    <h4>You think that everyone's views should be respected regardless of whether they are supported by facts or not.</h4>
    <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu8" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            Select an Option
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu8">
            <li><a data-value="1">1 (Strongly Disagree)</a></li>
            <li><a data-value="2">2</a></li>
            <li><a data-value="3">3</a><li>
            <li><a data-value="4">4</a></li>
            <li><a data-value="5">5 (Strongly Agree)</a></li>
        </ul>
    </div>
    <hr>
    <h3><strong>Question 9</strong></h3>
    <h4>In a discussion, truth should be more important than people's sensitivities.</h4>
    <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu9" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            Select an Option
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu9">
            <li><a data-value="1">1 (Strongly Disagree)</a></li>
            <li><a data-value="2">2</a></li>
            <li><a data-value="3">3</a><li>
            <li><a data-value="4">4</a></li>
            <li><a data-value="5">5 (Strongly Agree)</a></li>
        </ul>
    </div>
    <hr>
    <h3><strong>Question 10</strong></h3>
    <h4>You feel more energetic after spending time with a group of people.</h4>
    <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu10" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            Select an Option
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu10">
            <li><a data-value="1">1 (Strongly Disagree)</a></li>
            <li><a data-value="2">2</a></li>
            <li><a data-value="3">3</a><li>
            <li><a data-value="4">4</a></li>
            <li><a data-value="5">5 (Strongly Agree)</a></li>
        </ul>
    </div>
    <br>

    <button type="submit" class="btn btn-primary btn-lg btn-block submit" >
        Submit</button>

    <hr>
    <footer class="footer">
        <div class="container">
            <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/EstebanLauKoo/FriendFinder">GitHub Repo</a></p>
        </div>
    </footer>

</div>

</body>
</html>

<script type="text/javascript">
    $(".submit").on("click", function (event) {
        event.preventDefault();

        function validation() {
            var valid = true;
            $('.form-control').each(function () {
                if ( $(this).val() === '') {
                    valid = false
                }
            })
            $(".btn btn-default dropdown-toggle").each(function () {
                if( $(this).val() === "") {
                    valid = false
                }
            })
            return valid;
        }
        if (validation() == true) {
        var newPerson = {
            customerName: $("#name").val().trim(),
            customerPhoto: $("#photo").val().trim(),
            scores: [ $("#dropdownMenu1").val(),
                $("#dropdownMenu2").val(),
                $("#dropdownMenu3").val(),
                $("#dropdownMenu4").val(),
                $("#dropdownMenu5").val(),
                $("#dropdownMenu6").val(),
                $("#dropdownMenu7").val(),
                $("#dropdownMenu8").val(),
                $("#dropdownMenu9").val(),
                $("#dropdownMenu10").val()
            ]
        }
        console.log(newPerson)
            $.post("api/friends", newPerson, function (data) {
                if (data) {
                    alert("You have been added!")
                        .then(function(response){
                            //change link to Heroku link

                            //modal pop up
                            $('#match-image').attr('src', response.photo);
                            $('#match-name').text(response.name);
                            $('#message').text('You should be friends with ' + response.name + '!')
                            $('#modal').modal('show');
                        });
                    return false;
                }
        else {
            alert("I require more resources")
        }
    })
        }

        $(".dropdown-menu li a").click(function(){
            $(this).parents(".dropdown").find('.btn').html($(this).text() + ' <span class="caret"></span>' );
            $(this).parents(".dropdown").find('.btn').val($(this).data("value"));
        });

    })
</script>




